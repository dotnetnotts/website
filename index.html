<!DOCTYPE html>
<html lang="en">
	<head>
	    <meta charset="utf-8">
    	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	    <meta name="description" content="Nottingham .NET User Group">
	    <meta name="author" content="Weiran Zhang, Marvin Rounce">
	    <meta name="HandheldFriendly" content="True" />
		<base href="http://dotnetnotts.co/"/>

	    <title>dot net notts</title>

	    <link href="assets/css/font-awesome.min.css" rel="stylesheet">
	    <link href="assets/css/bootstrap.css" rel="stylesheet">
	    <link href="assets/css/style.css" rel="stylesheet">
	</head>

	<body>

		<nav class="navbar navbar-fixed-top navbar-inverse" role="navigation">
      		<div class="container">
        		<div class="navbar-header">
		        	<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
	            		<span class="sr-only">Toggle navigation</span>
	            		<span class="icon-bar"></span>
	            		<span class="icon-bar"></span>
	            		<span class="icon-bar"></span>
	          		</button>
          			<a class="navbar-brand" href="/">
          				<img src="assets/img/logo.png" height="35" width="114" style="margin-top: -15px" />
          				dot net notts
          			</a>
        		</div>

		        <div class="collapse navbar-collapse navbar-ex1-collapse">
			        <ul class="nav navbar-nav navbar-right">
            			<li data-bind="css: { active: pager.activePage$().getId() === 'home' }">
            				<a data-bind="page-href: '/'" href="/">Home</a>
            			</li>
            			<li data-bind="css: { active: pager.activePage$().getId() === 'events' }">
            				<a data-bind="page-href: 'events'" href="#">Events</a>
            			</li>
            			<li data-bind="css: { active: pager.activePage$().getId() === 'sponsors' }">
            				<a data-bind="page-href: 'sponsors'" href="#">Sponsors</a>
            			</li>
            			<li data-bind="css: { active: pager.activePage$().getId() === 'venue' }">
            				<a data-bind="page-href: 'venue'" href="#">Venue</a>
            			</li>
          			</ul>
        		</div>
      		</div>
    	</nav>

    	<div id="home-page" data-bind="page: { id: 'home', role: 'start', title: 'Nottingham .NET User Group', sourceOnShow: 'home.html', withOnShow: getViewModel }"></div>

    	<div id="events-page" data-bind="page: { id: 'events', title: 'Events - Nottingham .NET User Group', sourceOnShow: 'events.html', with: events }"></div>

    	<div id="event-page" data-bind="page: { id: 'event', params: ['eventId'], title: 'Event - Nottingham .NET User Group', sourceOnShow: 'event.html', with: event }"></div>
		
    	<div data-bind="page: { id: 'sponsors', title: 'Sponsors - Nottingham .NET User Group', sourceOnShow: 'sponsors.html', with: sponsors }"></div>

    	<div data-bind="page: { id: 'venue', title: 'Venue - Nottingham .NET User Group', sourceOnShow: 'venue.html', withOnShow: venueOnShow, sourceCache: true }"></div>

		<div class="section-colored">
      		<div class="container">
        		<h3 class="section-title text-center">Our Sponsors</h3>
  
        		<div class="container clients">
		          	<div class="row">
		            	<div class="col-lg-2 col-md-2 col-sm-2 col-xs-6">
		              		<a href="#"><img class="img-responsive" src="http://placehold.it/243x120" alt="sponsor 1"></a>
		            	</div>

		            	<div class="col-lg-2 col-md-2 col-sm-2 col-xs-6">
		              		<a href="#"><img class="img-responsive" src="http://placehold.it/243x120" alt="sponsor 2"></a>
		            	</div>
		            
	            		<div class="col-lg-2 col-md-2 col-sm-2 col-xs-6">
		        	    	<a href="#"><img class="img-responsive" src="http://placehold.it/243x120" alt="sponsor 3"></a>
		            	</div>

		            	<div class="col-lg-2 col-md-2 col-sm-2 col-xs-6">
		              		<a href="#"><img class="img-responsive" src="http://placehold.it/243x120" alt="sponsor 4"></a>
		            	</div>

		            	<div class="col-lg-2 col-md-2 col-sm-2 col-xs-6">
		              		<a href="#"><img class="img-responsive" src="http://placehold.it/243x120" alt="sponsor 5"></a>
		            	</div>

		            	<div class="col-lg-2 col-md-2 col-sm-2 col-xs-6">
		              		<a href="#"><img class="img-responsive" src="http://placehold.it/243x120" alt="sponsor 6"></a>
		            	</div>
		          	</div>
		        </div>
		    </div>
    	</div>

	    <script type="text/javascript" src="assets/js/libs/jquery-1.10.2.js"></script>
	    <script type="text/javascript" src="assets/js/libs/knockout.js"></script>
	    <script type="text/javascript" src="assets/js/libs/pager.js"></script>
	    <script type="text/javascript" src="assets/js/libs/underscore.js"></script>
	    <script type="text/javascript" src="assets/js/libs/bootstrap.js"></script>
	    <script type="text/javascript" src="assets/js/libs/moment.min.js"></script>
	    <script type="text/javascript" src="assets/js/libs/history.js"></script>
	    <script type="text/javascript" src="assets/js/libs/plugins.js"></script>
	    <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?sensor=true"></script>

	    <script type="text/javascript" src="assets/js/app/namespaces.js"></script>
	    <script type="text/javascript" src="assets/js/app/constants.js"></script>
	    <script type="text/javascript" src="assets/js/app/events-summary-view-model.js"></script>


	    <script>
		    var gurequire = function(viewModelFactory) {
		    	var self = this;

		    	var _viewModels = [];
		    	var _viewModelFactory = viewModelFactory;

		    	self.getViewModel = function(id) {
	    			var viewModel = _viewModels[id];
	    			if (!viewModel) {
	    				viewModel = _viewModelFactory.initViewModel(id);
	    				_viewModels[id] = viewModel;
	    			}
	    			return viewModel;
		    	};
		    };

		    var viewModelFactory = {
		    	initViewModel: function(id) {
	    			switch (id) {
	    				case "home":
	    					return new NottsDotNet.ViewModels.EventsSummaryViewModel(2);

	    				case "events":
	    					return new NottsDotNet.ViewModels.EventsSummaryViewModel(10);
	    			}
		    	}
		    };

		    var require = new gurequire(viewModelFactory);

	    	var getViewModel = function(callback, page) {
    			var viewModel = require.getViewModel(page.id());
    			callback(viewModel);
	    	};

		    var venueOnShow = function(callback, page) {
		        var location = new google.maps.LatLng(52.93000030517578,-1.159999966621399);

		        var mapOptions = {
		          	zoom: 13,
		          	center: location,
		          	mapTypeId: google.maps.MapTypeId.ROADMAP,
		          	scrollwheel: false,
		          	draggable: false
		        };

		        var map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);

		        var contentString = '<p style="line-height: 20px;"><strong>Banzhow Template</strong></p><p>123 My Street, Banzhow City, CA 4567</p>';

		        var infowindow = new google.maps.InfoWindow({
		          	content: contentString
		        });

		        var marker = new google.maps.Marker({
		          	position: location,
		          	map: map,
		          	title: "Venue"
		        });

		        google.maps.event.addListener(marker, "click", function() {
		          	infowindow.open(map, marker);
		        });
		    };
	    </script>
	    <script>
	    	pager.useHTML5history = true;
	    	pager.Href5.history = History;

	    	var viewModel = new function() { 
	    		var self = this;
	    		self.home = null;
	    		self.events = null;
	    		self.event = null;
	    		self.sponsors = null;
	    	};

	    	pager.extendWithPage(viewModel);
	    	ko.applyBindings(viewModel);
			pager.startHistoryJs();
	    </script>
	</body>
</html>